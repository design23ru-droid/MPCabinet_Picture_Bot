# Инструкции для Claude

## Язык общения

**Всегда отвечай на русском языке** во всех сообщениях, комментариях к коду и документации.

## Правило ответов в чате

Будь лаконичен. Не пиши в чате фрагменты кода. Экономим токены. Только минимально необходимые сведения для принятия решений

## Правило commit

После каждого полного изменения кода делай commit с информацией на русском языке

## Правило версионирования (SemVer)

Придерживаемся философии Semantic Versioning (MAJOR.MINOR.PATCH):

- **PATCH** (0.0.X): каждый commit увеличивает patch-версию
- **MINOR** (0.X.0): новый функционал, обратно совместимый
- **MAJOR** (X.0.0): breaking changes

При каждом **major** и **minor** релизе:

1. Обновить всю документацию (README, CONTEXT.md, docs/)
2. Создать git tag с версией
3. Сделать релиз на GitHub

Текущая версия хранится в `VERSION` файле.

## Правило ошибок и качества

1. Если видишь ошибки в коде, то сразу предлагай исправлять. Игнорировать ошибки запрещено

2. **Качество важнее скорости:**
   - Commit делается ТОЛЬКО когда ВСЕ тесты проходят (не "большинство", а 100%)
   - Каждая итерация должна оставлять проект в полностью рабочем состоянии
   - Если нашёл проблему (например, падающие тесты) - исправь её полностью, не принимай частичные решения
   - Лучше потратить больше времени на проверку, чем закоммитить нерабочий код
   - Рефакторинг не должен ломать существующий функционал - всегда проверяй через тесты

## Правило плана

**ВАЖНО:** Все планы мы храним ТОЛЬКО в файле `docs/PLAN.md`.

### Работа с планами

**При входе в Plan mode:**

1. Система может создавать временные планы в `.claude/plans/` - это нормально
2. Прочитай `docs/PLAN.md` для понимания текущего контекста проекта
3. Работай с временным планом во время планирования

**После выхода из Plan mode:**

1. **ОБЯЗАТЕЛЬНО** синхронизируй временный план → `docs/PLAN.md`
2. Добавь временную метку `**Обновлено:** ДД.ММ.ГГГГ ЧЧ:ММ`
3. Обнови секцию "Текущая версия" и "Текущая фаза"
4. Сохрани важные детали реализации (критические файлы, архитектура)
5. Отмечай выполненные этапы чекбоксами [x]

**Во время реализации:**

1. Следуй плану из `docs/PLAN.md`
2. Обновляй `docs/PLAN.md` после завершения этапов
3. Добавляй актуальные статусы задач

### Документация

- Справочник WB API: `docs/wb-api/README.md`
- Промпты для разработки: `docs/wb-api/PROMPTS.md`
